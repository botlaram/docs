
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="this Mkdocs contains Python Modules, about Devops and Cheat Code">
      
      
        <meta name="author" content="botlaram">
      
      
      
        <link rel="prev" href="../devops_projects/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Q & A - UseMe</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Marmelad:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Marmelad";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#scenario-based-question" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="UseMe" class="md-header__button md-logo" aria-label="UseMe" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            UseMe
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Q & A
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/botlaram" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../cheat_code/" class="md-tabs__link">
        
  
  
    
  
  Cheat Code

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../python/" class="md-tabs__link">
        
  
  
    
  
  Python

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../linux/" class="md-tabs__link">
        
  
  
    
  
  Linux

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../networking/" class="md-tabs__link">
        
  
  
    
  
  Computer Networking

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../DSA/" class="md-tabs__link">
        
  
  
    
  
  DSA

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../devopsTools/" class="md-tabs__link">
        
  
  
    
  
  Devops Tools

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../azure/" class="md-tabs__link">
        
  
  
    
  
  Azure

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../kubernetes/" class="md-tabs__link">
        
  
  
    
  
  K8

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../publish/" class="md-tabs__link">
        
  
  
    
  
  Publish

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../devops_projects/" class="md-tabs__link">
        
  
  
    
  
  Devops Project

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Q & A

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="UseMe" class="md-nav__button md-logo" aria-label="UseMe" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    UseMe
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/botlaram" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cheat_code/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cheat Code
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computer Networking
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../DSA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DSA
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../devopsTools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Devops Tools
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../azure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K8
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../publish/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publish
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../devops_projects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Devops Project
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Q & A
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Q & A
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terraform" class="md-nav__link">
    <span class="md-ellipsis">
      Terraform
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Terraform">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#you-have-50-terraform-resources-created-using-a-jenkins-pipeline-and-the-pipeline-takes-more-than-5-hours-to-complete-how-would-you-reduce-the-build-time" class="md-nav__link">
    <span class="md-ellipsis">
      You have 50 Terraform resources created using a Jenkins pipeline, and the pipeline takes more than 5 hours to complete. How would you reduce the build time?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-a-module" class="md-nav__link">
    <span class="md-ellipsis">
      What is a Module?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#your-terraform-state-file-terraformtfstate-got-corrupted-what-will-you-do" class="md-nav__link">
    <span class="md-ellipsis">
      Your Terraform state file (terraform.tfstate) got corrupted. What will you do?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#someone-manually-changed-a-resource-in-the-cloud-outside-terraform-how-do-you-detect-and-fix-it" class="md-nav__link">
    <span class="md-ellipsis">
      Someone manually changed a resource in the cloud outside Terraform. How do you detect and fix it?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#two-team-members-applied-terraform-changes-to-the-same-module-at-the-same-time-one-of-the-applies-failed-how-can-you-prevent-this" class="md-nav__link">
    <span class="md-ellipsis">
      Two team members applied Terraform changes to the same module at the same time. One of the applies failed. How can you prevent this?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#during-terraform-apply-some-resources-were-created-successfully-while-others-failed-what-would-you-do-next" class="md-nav__link">
    <span class="md-ellipsis">
      During terraform apply, some resources were created successfully, while others failed. What would you do next?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#you-already-have-an-aws-ec2-instance-created-manually-how-can-you-bring-it-under-terraform-management" class="md-nav__link">
    <span class="md-ellipsis">
      You already have an AWS EC2 instance created manually. How can you bring it under Terraform management?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#large-state-file-performance-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Large State File &amp; Performance Issues
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-do-you-handle-secrets-in-terraform-without-exposing-them-in-git" class="md-nav__link">
    <span class="md-ellipsis">
      How do you handle secrets in Terraform without exposing them in Git?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-terraform-workspace-with-dev-and-prod-and-configure-backend-file-for-dev-and-prod" class="md-nav__link">
    <span class="md-ellipsis">
      Create a terraform workspace with dev and prod and configure backend file for dev and prod
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Kubernetes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Kubernetes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#whats-difference-between-loadbalancer-and-ingress-in-kubernetes" class="md-nav__link">
    <span class="md-ellipsis">
      Whats difference between loadbalancer and ingress in kubernetes?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explain-taints-and-tolerence" class="md-nav__link">
    <span class="md-ellipsis">
      Explain taints and tolerence
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Network Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure" class="md-nav__link">
    <span class="md-ellipsis">
      Azure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Azure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#difference-between-application-gateway-and-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Difference between application gateway and load balancer
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="scenario-based-question">Scenario Based Question</h1>
<h2 id="terraform">Terraform</h2>
<h3 id="you-have-50-terraform-resources-created-using-a-jenkins-pipeline-and-the-pipeline-takes-more-than-5-hours-to-complete-how-would-you-reduce-the-build-time">You have 50 Terraform resources created using a Jenkins pipeline, and the pipeline takes more than 5 hours to complete. How would you reduce the build time?</h3>
<p>Enable Parallelism in Terraform</p>
<p>By default, Terraform applies resources sequentially.
You can increase the number of parallel operations using the -parallelism flag.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>terraform<span class="w"> </span>apply<span class="w"> </span>-parallelism<span class="o">=</span><span class="m">20</span>
</code></pre></div>
<p>Default is 10. Increasing it allows Terraform to create independent resources concurrently.</p>
<p>However, it must be tuned carefully — too high may overload the backend or API rate limits.</p>
<h3 id="what-is-a-module">What is a Module?</h3>
<p>A module in Terraform is a container for multiple resources that are used together.
It allows reusability, organization, and consistency across environments (dev, test, prod).</p>
<p>Type                  | Description
Root Module         |   The directory where you run terraform init, plan, or apply. It contains main Terraform configuration files like main.tf, variables.tf, and outputs.tf.
Child Module          | A reusable module defined in a separate directory (or from a remote source) and called by the root module using the module block.</p>
<p>Folder structure</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>terraform-project/
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>│
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>├──<span class="w"> </span>main.tf<span class="w">                </span><span class="c1"># Root module</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>├──<span class="w"> </span>variables.tf
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>├──<span class="w"> </span>outputs.tf
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>│
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>└──<span class="w"> </span>modules/
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="p">|</span><span class="w">   </span>└──<span class="w"> </span>ec2-instance/<span class="w">      </span><span class="c1"># Child module</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">|</span><span class="w">       </span>├──<span class="w"> </span>main.tf
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="p">|</span><span class="w">       </span>├──<span class="w"> </span>variables.tf
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="p">|</span><span class="w">       </span>└──<span class="w"> </span>outputs.tf
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>└──<span class="w"> </span>modules/
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">    </span>└──<span class="w"> </span>vpc/<span class="w">      </span><span class="c1"># Child module</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">        </span>├──<span class="w"> </span>main.tf
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">        </span>├──<span class="w"> </span>variables.tf
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">        </span>└──<span class="w"> </span>outputs.tf
</code></pre></div>
Step 1 — Create a Child Module</p>
<p>📁 modules/ec2-instance/main.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>resource<span class="w"> </span><span class="s2">&quot;aws_instance&quot;</span><span class="w"> </span><span class="s2">&quot;example&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">  </span><span class="nv">ami</span><span class="w">           </span><span class="o">=</span><span class="w"> </span>var.ami
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nv">instance_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>var.instance_type
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nv">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="nv">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>var.instance_name
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="o">}</span>
</code></pre></div>
<p>📁 modules/ec2-instance/variables.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>variable<span class="w"> </span><span class="s2">&quot;ami&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;AMI ID for the EC2 instance&quot;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="o">}</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>variable<span class="w"> </span><span class="s2">&quot;instance_type&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Type of EC2 instance&quot;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">  </span><span class="nv">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;t2.micro&quot;</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="o">}</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>variable<span class="w"> </span><span class="s2">&quot;instance_name&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Name tag for the EC2 instance&quot;</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="o">}</span>
</code></pre></div>
<p>📁 modules/ec2-instance/outputs.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>output<span class="w"> </span><span class="s2">&quot;instance_id&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;The ID of the created EC2 instance&quot;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="nv">value</span><span class="w">       </span><span class="o">=</span><span class="w"> </span>aws_instance.example.id
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="o">}</span>
</code></pre></div>
<p>Step 2 — Use the Child Module in the Root Module</p>
<p>📁 main.tf (Root Module)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>provider<span class="w"> </span><span class="s2">&quot;aws&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">  </span><span class="nv">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>var.region
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="o">}</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="c1"># Using the child module</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>module<span class="w"> </span><span class="s2">&quot;web_server&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">  </span><span class="nb">source</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;./modules/ec2-instance&quot;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">  </span><span class="nv">ami</span><span class="w">            </span><span class="o">=</span><span class="w"> </span>var.ami
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">  </span><span class="nv">instance_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span>var.instance_type
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">  </span><span class="nv">instance_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;web-server&quot;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="o">}</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>output<span class="w"> </span><span class="s2">&quot;web_server_id&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>module.web_server.instance_id
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="o">}</span>
</code></pre></div>
<p>📁 variables.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>variable<span class="w"> </span><span class="s2">&quot;region&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;AWS region&quot;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="nv">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;us-east-1&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="o">}</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>variable<span class="w"> </span><span class="s2">&quot;ami&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;AMI ID for EC2 instance&quot;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">  </span><span class="nv">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ami-0c55b159cbfafe1f0&quot;</span><span class="w">  </span><span class="c1"># Example Amazon Linux 2 AMI</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="o">}</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>variable<span class="w"> </span><span class="s2">&quot;instance_type&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Type of EC2 instance&quot;</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">  </span><span class="nv">default</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;t3.micro&quot;</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="o">}</span>
</code></pre></div>
<p>📁 outputs.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>output<span class="w"> </span><span class="s2">&quot;instance_id&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ID of the EC2 instance created via module&quot;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="nv">value</span><span class="w">       </span><span class="o">=</span><span class="w"> </span>module.web_server.instance_id
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="o">}</span>
</code></pre></div>
<p>Step 3: Run the Terraform Commands</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>terraform<span class="w"> </span>init<span class="w">      </span><span class="c1"># Initialize and download providers &amp; modules</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>terraform<span class="w"> </span>plan<span class="w">      </span><span class="c1"># Show what will be created</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>terraform<span class="w"> </span>apply
</code></pre></div>
<p>Use Remote Module (Example from GitHub)</p>
<p>You can also source a module remotely:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>module<span class="w"> </span><span class="s2">&quot;network&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="nb">source</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;git::https://github.com/example-org/terraform-aws-vpc.git?ref=v1.0.0&quot;</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="nv">cidr_block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;10.0.0.0/16&quot;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="nv">environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dev&quot;</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="o">}</span>
</code></pre></div>
<h3 id="your-terraform-state-file-terraformtfstate-got-corrupted-what-will-you-do">Your Terraform state file (terraform.tfstate) got corrupted. What will you do?</h3>
<ol>
<li>Don’t run terraform apply immediately — it can worsen the situation.</li>
<li>Check if you have state file backups:
    Local backend → .terraform/backup/
    S3 backend → Versioning-enabled bucket.</li>
<li>Restore the last known good version:</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>aws<span class="w"> </span>s3<span class="w"> </span>cp<span class="w"> </span>s3://bucket/path/terraform.tfstate<span class="w"> </span>&lt;restore-location&gt;
</code></pre></div>
<ol>
<li>If partial corruption → try manual fix by editing JSON carefully.</li>
<li>If full recovery not possible → use terraform import to rebuild the state from real infrastructure.</li>
</ol>
<h3 id="someone-manually-changed-a-resource-in-the-cloud-outside-terraform-how-do-you-detect-and-fix-it">Someone manually changed a resource in the cloud outside Terraform. How do you detect and fix it?</h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">## run</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>terraform<span class="w"> </span>plan
</code></pre></div>
<p>Terraform will detect the drift and show differences.</p>
<p>Revert the manual change by re-applying:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>terraform<span class="w"> </span>apply
</code></pre></div>
<p>Or, if the manual change is correct, update the Terraform configuration and re-run plan.</p>
<h3 id="two-team-members-applied-terraform-changes-to-the-same-module-at-the-same-time-one-of-the-applies-failed-how-can-you-prevent-this">Two team members applied Terraform changes to the same module at the same time. One of the applies failed. How can you prevent this?</h3>
<p>Use state locking in your backend.
Example: AWS S3 + DynamoDB backend setup</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>backend<span class="w"> </span><span class="s2">&quot;s3&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="nv">bucket</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;tf-state-bucket&quot;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">  </span><span class="nv">key</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prod/terraform.tfstate&quot;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">  </span><span class="nv">region</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;us-east-1&quot;</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">  </span><span class="nv">dynamodb_table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;terraform-locks&quot;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="o">}</span>
</code></pre></div>
<p>The DynamoDB lock prevents simultaneous apply operations.</p>
<p>Educate team to use:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>terraform<span class="w"> </span>plan<span class="w"> </span>-out<span class="o">=</span>tfplan
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>terraform<span class="w"> </span>apply<span class="w"> </span>tfplan
</code></pre></div>
<p>to ensure reproducible state.</p>
<p>The terraform apply tfplan command in Terraform is used to execute a previously generated execution plan. This command is crucial for applying infrastructure changes in a controlled and predictable manner, especially in automated pipelines or when a plan needs to be reviewed and approved before deployment.</p>
<p>Here's how it works:</p>
<ol>
<li>Generate a plan: First, you create an execution plan using terraform plan -out tfplan, where tfplan is the name of the file where the plan will be saved. This command analyzes your Terraform configuration and the current state of your infrastructure to determine the actions (create, update, or destroy) required to reach the desired state.</li>
<li>Review the plan: The saved tfplan file can be reviewed using terraform show tfplan to understand the exact changes Terraform intends to make. This step is critical for ensuring that the proposed changes align with your expectations and do not introduce unintended consequences.</li>
<li>Apply the plan: Once the plan is reviewed and approved, you can execute it using terraform apply tfplan. Terraform will then perform the actions defined in the tfplan file, making the necessary changes to your infrastructure and updating the Terraform state file to reflect the new state of your resources.</li>
</ol>
<h3 id="during-terraform-apply-some-resources-were-created-successfully-while-others-failed-what-would-you-do-next">During terraform apply, some resources were created successfully, while others failed. What would you do next?</h3>
<p>First, don’t destroy everything.</p>
<p>Run:
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>terraform<span class="w"> </span>apply
</code></pre></div></p>
<p>again — Terraform will detect already created resources and continue where it left off.</p>
<p>If still failing:</p>
<p>Use <code>terraform taint &lt;resource&gt;</code> to mark specific failed resources for recreation.</p>
<p>Or use <code>terraform state rm</code> to remove manually created resources if needed.</p>
<p>Always review the terraform plan output before reapplying.</p>
<h3 id="you-already-have-an-aws-ec2-instance-created-manually-how-can-you-bring-it-under-terraform-management">You already have an AWS EC2 instance created manually. How can you bring it under Terraform management?</h3>
<p>Write the Terraform configuration that represents that instance:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">## add resource in main.tf</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>resource<span class="w"> </span><span class="s2">&quot;aws_instance&quot;</span><span class="w"> </span><span class="s2">&quot;web&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span><span class="nv">ami</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ami-0abc12345&quot;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="nv">instance_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;t2.micro&quot;</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="o">}</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="c1">## Run the import command:</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>terraform<span class="w"> </span>import<span class="w"> </span>aws_instance.web<span class="w"> </span>i-0abcd1234ef56789
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="c1">## Now Terraform tracks it in state — verify with:</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>terraform<span class="w"> </span>state<span class="w"> </span>show<span class="w"> </span>aws_instance.web
</code></pre></div>
<h3 id="large-state-file-performance-issues">Large State File &amp; Performance Issues</h3>
<p>Your Terraform state file has grown large and plan is getting slow. How do you optimize?</p>
<ol>
<li>Split your infrastructure into multiple smaller states (e.g., per environment or per component).</li>
<li>Use data sources instead of having everything in a single root module.</li>
<li>Enable state file compression and remote backends.</li>
<li>Use <code>terraform plan -target</code> for selective planning if needed temporarily (but not as long-term solution).</li>
</ol>
<h3 id="how-do-you-handle-secrets-in-terraform-without-exposing-them-in-git">How do you handle secrets in Terraform without exposing them in Git?</h3>
<p>Store them in Azure Key Vault, AWS Secrets Manager, or Vault, and use data sources to fetch:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>data<span class="w"> </span><span class="s2">&quot;aws_secretsmanager_secret_version&quot;</span><span class="w"> </span><span class="s2">&quot;db_password&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">  </span><span class="nv">secret_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-db-password&quot;</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="o">}</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>variable<span class="w"> </span><span class="s2">&quot;db_password&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">  </span><span class="nv">default</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>data.aws_secretsmanager_secret_version.db_password.secret_string
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="o">}</span>
</code></pre></div>
<p>Never hardcode secrets or commit .tfvars files with credentials. Use environment variables:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">TF_VAR_db_password</span><span class="o">=</span><span class="s2">&quot;supersecret&quot;</span>
</code></pre></div>
<h3 id="create-a-terraform-workspace-with-dev-and-prod-and-configure-backend-file-for-dev-and-prod">Create a terraform workspace with dev and prod and configure backend file for dev and prod</h3>
<p>Project structure</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>terraform-project/
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>│
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>├──<span class="w"> </span>main.tf
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>├──<span class="w"> </span>variables.tf
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>├──<span class="w"> </span>outputs.tf
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>├──<span class="w"> </span>backend.tf
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>│
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>├──<span class="w"> </span>modules/
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>│<span class="w">   </span>└──<span class="w"> </span>ec2_instance/
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>│<span class="w">       </span>├──<span class="w"> </span>main.tf
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>│<span class="w">       </span>├──<span class="w"> </span>variables.tf
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>│<span class="w">       </span>└──<span class="w"> </span>outputs.tf
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>│
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>└──<span class="w"> </span>environments/
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">    </span>├──<span class="w"> </span>dev.tfvars
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">    </span>└──<span class="w"> </span>prod.tfvars
</code></pre></div>
<p>🧩 Step 1: Define a Module (Example: EC2 Instance)</p>
<p>modules/ec2_instance/main.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>resource<span class="w"> </span><span class="s2">&quot;aws_instance&quot;</span><span class="w"> </span><span class="s2">&quot;example&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">  </span><span class="nv">ami</span><span class="w">           </span><span class="o">=</span><span class="w"> </span>var.ami
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span><span class="nv">instance_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>var.instance_type
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">  </span><span class="nv">tags</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="nv">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">var</span><span class="p">.env</span><span class="si">}</span><span class="s2">-instance&quot;</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="o">}</span>
</code></pre></div>
<p>modules/ec2_instance/variables.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>variable<span class="w"> </span><span class="s2">&quot;ami&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;AMI ID for the instance&quot;</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="o">}</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>variable<span class="w"> </span><span class="s2">&quot;instance_type&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;EC2 instance type&quot;</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="o">}</span>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>variable<span class="w"> </span><span class="s2">&quot;env&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Environment name&quot;</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="o">}</span>
</code></pre></div>
<p>modules/ec2_instance/outputs.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>output<span class="w"> </span><span class="s2">&quot;instance_id&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>aws_instance.example.id
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="o">}</span>
</code></pre></div>
<p>⚙️ Step 2: Root Configuration</p>
<p>backend.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>terraform<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">  </span>backend<span class="w"> </span><span class="s2">&quot;s3&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="nv">bucket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;your-terraform-state-bucket&quot;</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="nv">key</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;workspace-example/terraform.tfstate&quot;</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="nv">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;us-east-1&quot;</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="o">}</span>
</code></pre></div>
<p>main.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>provider<span class="w"> </span><span class="s2">&quot;aws&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">  </span><span class="nv">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;us-east-1&quot;</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="o">}</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>module<span class="w"> </span><span class="s2">&quot;ec2&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">  </span><span class="nb">source</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;./modules/ec2_instance&quot;</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">  </span><span class="nv">ami</span><span class="w">            </span><span class="o">=</span><span class="w"> </span>var.ami
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="w">  </span><span class="nv">instance_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span>var.instance_type
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="w">  </span><span class="nv">env</span><span class="w">            </span><span class="o">=</span><span class="w"> </span>terraform.workspace
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="o">}</span>
</code></pre></div>
<p>variables.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>variable<span class="w"> </span><span class="s2">&quot;ami&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;AMI ID&quot;</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="o">}</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>variable<span class="w"> </span><span class="s2">&quot;instance_type&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">  </span><span class="nb">type</span><span class="w">        </span><span class="o">=</span><span class="w"> </span>string
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">  </span><span class="nv">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;EC2 instance type&quot;</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="o">}</span>
</code></pre></div>
<p>outputs.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>output<span class="w"> </span><span class="s2">&quot;instance_id&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="w">  </span><span class="nv">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>module.ec2.instance_id
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="o">}</span>
</code></pre></div>
<p>🌍 Step 3: Environment Variable Files</p>
<p>environments/dev.tfvars</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nv">ami</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ami-0c55b159cbfafe1f0&quot;</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="nv">instance_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;t2.micro&quot;</span>
</code></pre></div>
<p>environments/prod.tfvars</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nv">ami</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ami-0d527b8c289b4af7f&quot;</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="nv">instance_type</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;t3.medium&quot;</span>
</code></pre></div>
<p>🚀 Step 4: Create and Use Workspaces</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1"># Initialize Terraform</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>terraform<span class="w"> </span>init
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="c1"># Create workspaces</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>terraform<span class="w"> </span>workspace<span class="w"> </span>new<span class="w"> </span>dev
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>terraform<span class="w"> </span>workspace<span class="w"> </span>new<span class="w"> </span>prod
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="c1"># Switch to dev</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>terraform<span class="w"> </span>workspace<span class="w"> </span><span class="k">select</span><span class="w"> </span>dev
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>terraform<span class="w"> </span>apply<span class="w"> </span>-var-file<span class="o">=</span>environments/dev.tfvars
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="c1"># Switch to prod</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>terraform<span class="w"> </span>workspace<span class="w"> </span><span class="k">select</span><span class="w"> </span>prod
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>terraform<span class="w"> </span>apply<span class="w"> </span>-var-file<span class="o">=</span>environments/prod.tfvars
</code></pre></div>
<p>✅ Result:</p>
<p>You now have a single Terraform configuration that:</p>
<p>Uses modules for reusable infrastructure logic.</p>
<p>Uses workspaces (dev, prod) to isolate state.</p>
<p>Uses environment variable files to customize settings</p>
<p>⚙️ Step 5: Configure Terraform Backend for Azure Blob</p>
<p>backend.tf</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>terraform<span class="w"> </span><span class="o">{</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">  </span>backend<span class="w"> </span><span class="s2">&quot;azurerm&quot;</span><span class="w"> </span><span class="o">{</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="nv">resource_group_name</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;tfstate-rg&quot;</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="nv">storage_account_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;tfstateacct12345&quot;</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">    </span><span class="nv">container_name</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;tfstate&quot;</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="nv">key</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;terraform.</span><span class="si">${</span><span class="nv">terraform</span><span class="p">.workspace</span><span class="si">}</span><span class="s2">.tfstate&quot;</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">  </span><span class="o">}</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="o">}</span>
</code></pre></div>
<p>🔍 What happens here:</p>
<p>terraform.workspace dynamically names the state file.</p>
<p>When you use the dev workspace → state file = terraform.dev.tfstate</p>
<p>When you use the prod workspace → state file = terraform.prod.tfstate</p>
<p>🧩 Step 6: Initialize the Backend</p>
<p>After setting up the backend:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>terraform<span class="w"> </span>init<span class="w"> </span><span class="se">\</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">  </span>-backend-config<span class="o">=</span><span class="s2">&quot;resource_group_name=tfstate-rg&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">  </span>-backend-config<span class="o">=</span><span class="s2">&quot;storage_account_name=tfstateacct12345&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">  </span>-backend-config<span class="o">=</span><span class="s2">&quot;container_name=tfstate&quot;</span><span class="w"> </span><span class="se">\</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">  </span>-backend-config<span class="o">=</span><span class="s2">&quot;key=terraform.tfstate&quot;</span>
</code></pre></div>
<p>Then create workspaces:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>terraform<span class="w"> </span>workspace<span class="w"> </span>new<span class="w"> </span>dev
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>terraform<span class="w"> </span>workspace<span class="w"> </span>new<span class="w"> </span>prod
</code></pre></div>
<p>🌍 Step 7: Apply per Environment</p>
<p>Use workspace + var files:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1"># Switch to dev</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>terraform<span class="w"> </span>workspace<span class="w"> </span><span class="k">select</span><span class="w"> </span>dev
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>terraform<span class="w"> </span>apply<span class="w"> </span>-var-file<span class="o">=</span>environments/dev.tfvars
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="c1"># Switch to prod</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>terraform<span class="w"> </span>workspace<span class="w"> </span><span class="k">select</span><span class="w"> </span>prod
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>terraform<span class="w"> </span>apply<span class="w"> </span>-var-file<span class="o">=</span>environments/prod.tfvars
</code></pre></div>
<h2 id="kubernetes">Kubernetes</h2>
<h3 id="whats-difference-between-loadbalancer-and-ingress-in-kubernetes">Whats difference between loadbalancer and ingress in kubernetes?</h3>
<p>LoadBalancer: It exposes your application externally (outside the cluster) by provisioning a cloud load balancer (like AWS ELB, Azure Load Balancer, GCP Load Balancer).</p>
<p>When you create a Service of type LoadBalancer, Kubernetes asks your cloud provider to create an external load balancer.</p>
<p>The load balancer forwards traffic to the Service, which then routes it to the right Pods.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-app-lb</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-app</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8080</span>
</code></pre></div>
<p>Result:
→ Cloud provider creates a load balancer (e.g., with an external IP)
→ Traffic to that IP goes to your app pods.</p>
<p>✅ Pros</p>
<p>Simple to set up.</p>
<p>Directly exposes your app to the internet.</p>
<p>⚠️ Cons</p>
<p>Each service of type LoadBalancer creates a separate cloud load balancer — expensive and not scalable if you have many services.</p>
<p>Limited control over routing (just ports).</p>
<p>Ingress: It’s an HTTP/HTTPS reverse proxy that manages external access to multiple services — typically at Layer 7 (application layer).</p>
<p>You deploy an Ingress Controller (like NGINX, HAProxy, Traefik, or the cloud provider’s ingress).</p>
<p>You define Ingress rules that tell it how to route incoming requests based on:</p>
<p>Hostnames (e.g., api.example.com)</p>
<p>Paths (e.g., /api, /web)</p>
<p>The Ingress Controller usually runs behind a single LoadBalancer.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="nt">metadata</span><span class="p">:</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-ingress</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="nt">spec</span><span class="p">:</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myapp.example.com</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">    </span><span class="nt">http</span><span class="p">:</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">      </span><span class="nt">paths</span><span class="p">:</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/api</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">        </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">        </span><span class="nt">backend</span><span class="p">:</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">          </span><span class="nt">service</span><span class="p">:</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">api-service</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="w">            </span><span class="nt">port</span><span class="p">:</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="w">              </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/web</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="w">        </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="w">        </span><span class="nt">backend</span><span class="p">:</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="w">          </span><span class="nt">service</span><span class="p">:</span>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web-service</span>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="w">            </span><span class="nt">port</span><span class="p">:</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="w">              </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
<p>Result:
→ One LoadBalancer (via the ingress controller) handles requests for many services.
→ Routes based on domain name and path.</p>
<p>✅ Pros</p>
<p>Single entry point for all services.</p>
<p>Advanced routing (paths, hostnames, SSL termination, etc.).</p>
<p>Cost-effective (only one LoadBalancer needed).</p>
<p>⚠️ Cons</p>
<p>Requires setting up an Ingress Controller.</p>
<p>More complex configuration.</p>
<h3 id="explain-taints-and-tolerence">Explain taints and tolerence</h3>
<p>In Kubernetes (k8s), taints and tolerations are a way to control which pods can be scheduled onto which nodes — they’re essentially the inverse of node selectors and affinity rules.</p>
<p>Think of it like this:</p>
<p>Node labels / affinity = "Please put me on this kind of node" (pod’s request)</p>
<p>Taints / tolerations = "Stay away unless you have permission" (node’s warning)</p>
<ol>
<li>What is a taint?</li>
</ol>
<p>A taint is a property you put on a node that says:</p>
<p>"I won’t accept pods unless they tolerate this taint."</p>
<p>It’s defined by three parts:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nv">key</span><span class="o">=</span>value:effect
</code></pre></div>
<p>Where:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>key<span class="w"> </span>→<span class="w"> </span>Identifier<span class="w"> </span><span class="o">(</span>e.g.,<span class="w"> </span>dedicated<span class="o">)</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>value<span class="w"> </span>→<span class="w"> </span>Description<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>taint<span class="w"> </span><span class="o">(</span>e.g.,<span class="w"> </span>gpu-workload<span class="o">)</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>effect<span class="w"> </span>→<span class="w"> </span>One<span class="w"> </span>of:
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>NoSchedule<span class="w"> </span>→<span class="w"> </span>Don’t<span class="w"> </span>schedule<span class="w"> </span>pods<span class="w"> </span>unless<span class="w"> </span>they<span class="w"> </span>tolerate<span class="w"> </span>it.
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>PreferNoSchedule<span class="w"> </span>→<span class="w"> </span>Avoid<span class="w"> </span>scheduling<span class="w"> </span>pods<span class="w"> </span>unless<span class="w"> </span>no<span class="w"> </span>better<span class="w"> </span>option<span class="w"> </span>exists.
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a>NoExecute<span class="w"> </span>→<span class="w"> </span>Evict<span class="w"> </span>existing<span class="w"> </span>pods<span class="w"> </span>that<span class="w"> </span>don’t<span class="w"> </span>tolerate<span class="w"> </span>it<span class="w"> </span>and<span class="w"> </span>stop<span class="w"> </span>new<span class="w"> </span>ones<span class="w"> </span>from<span class="w"> </span>being<span class="w"> </span>scheduled.
</code></pre></div>
<p>Example command to add a taint:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>kubectl<span class="w"> </span>taint<span class="w"> </span>nodes<span class="w"> </span>node1<span class="w"> </span><span class="nv">dedicated</span><span class="o">=</span>gpu-workload:NoSchedule
</code></pre></div>
<ol>
<li>What is a toleration?</li>
</ol>
<p>A toleration is a property you add to a pod that says:</p>
<p>"I’m okay with being scheduled on nodes that have this taint."</p>
<p>It’s defined in the pod’s YAML spec:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>tolerations:
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>-<span class="w"> </span>key:<span class="w"> </span><span class="s2">&quot;dedicated&quot;</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">  </span>operator:<span class="w"> </span><span class="s2">&quot;Equal&quot;</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">  </span>value:<span class="w"> </span><span class="s2">&quot;gpu-workload&quot;</span>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">  </span>effect:<span class="w"> </span><span class="s2">&quot;NoSchedule&quot;</span>
</code></pre></div>
<p>This tells Kubernetes: “If a node has the taint dedicated=gpu-workload:NoSchedule, I can still go there.”</p>
<ol>
<li>How they work together</li>
</ol>
<p>Without a toleration → Pod cannot be scheduled on a node with a matching taint.</p>
<p>With a matching toleration → Pod can be scheduled on the tainted node, but not forced — Kubernetes still considers other scheduling rules.</p>
<p>Example scenario:</p>
<p>Node is tainted: dedicated=gpu-workload:NoSchedule</p>
<p>Normal pods (no toleration) → won’t land there.</p>
<p>GPU job pods (with toleration) → can land there.</p>
<ol>
<li>Why use taints &amp; tolerations?</li>
</ol>
<p>Dedicated nodes for specific workloads (e.g., GPU, high-memory, compliance-sensitive).</p>
<p>Isolating workloads (e.g., separate dev/test from prod).</p>
<p>Evicting pods during maintenance (NoExecute).</p>
<h3 id="network-flow">Network Flow</h3>
<p>You’ve deployed your web app (say, a website running on Nginx or Node.js) into Kubernetes.<br />
Your goal: people on the internet should be able to open https://myapp.com and see your site.</p>
<p>🚀 Step-by-step flow</p>
<p>1️⃣ User makes a request</p>
<ol>
<li>A user types https://myapp.com in their browser.  </li>
<li>The browser asks the DNS to find where myapp.com lives.</li>
<li>DNS points it to a public IP — that’s your Kubernetes LoadBalancer or Ingress Controller.</li>
</ol>
<p>2️⃣ Request reaches Kubernetes</p>
<ol>
<li>The request enters your Kubernetes cluster through one of these:</li>
<li>A LoadBalancer (provided by your cloud provider like AWS, Azure, or GCP)</li>
<li>Or an Ingress Controller (like Nginx or Traefik)</li>
</ol>
<p>3️⃣ Ingress / LoadBalancer sends it to a Service</p>
<ol>
<li>Inside Kubernetes, you have a Service that knows which app (Pods) should get this request.</li>
<li>The Service acts like a traffic director.</li>
<li>It decides which Pod (copy of your app) will handle the request.</li>
</ol>
<p>4️⃣ Service forwards the request to a Pod</p>
<ol>
<li>The Pod is where your web app actually runs — it’s like a small computer running your app container.</li>
<li>Each Pod has its own internal IP address.</li>
<li>The Service forwards the request to one of the Pods using that IP.</li>
<li>Kubernetes automatically load-balances between Pods (if you have multiple replicas).</li>
</ol>
<p>5️⃣ Pod handles the request</p>
<ol>
<li>Inside the Pod, your web server or app container (like Nginx or Flask or Node.js) receives the HTTP request on a port — for example, port 8080.</li>
<li>It processes the request (maybe fetches some data, renders HTML) and sends back a response.</li>
</ol>
<p>6️⃣ Response goes back the same way</p>
<p>The response travels backward:</p>
<p>Pod → Service → Ingress/LoadBalancer → Internet → User's Browser</p>
<h2 id="azure">Azure</h2>
<h3 id="difference-between-application-gateway-and-load-balancer">Difference between application gateway and load balancer</h3>
<p>🔹 High-Level Difference</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Azure Load Balancer</th>
<th>Azure Application Gateway</th>
</tr>
</thead>
<tbody>
<tr>
<td>OSI Layer</td>
<td>Layer 4 (Transport Layer: TCP/UDP)</td>
<td>Layer 7 (Application Layer: HTTP/HTTPS)</td>
</tr>
<tr>
<td>Routing Type</td>
<td>Based on IP address and port</td>
<td>Based on HTTP(S) content (URL, headers, cookies, etc.)</td>
</tr>
<tr>
<td>Primary Use Case</td>
<td>Distributes network traffic across backend servers</td>
<td>Provides web traffic routing, SSL termination, WAF (security), and URL-based routing</td>
</tr>
<tr>
<td>Protocol Support</td>
<td>TCP, UDP</td>
<td>HTTP, HTTPS, WebSocket</td>
</tr>
<tr>
<td>SSL/TLS Termination</td>
<td>❌ Not supported</td>
<td>✅ Supported</td>
</tr>
<tr>
<td>Web Application Firewall (WAF)</td>
<td>❌ Not available</td>
<td>✅ Integrated WAF option</td>
</tr>
<tr>
<td>Health Probes</td>
<td>Checks TCP/port connectivity</td>
<td>Checks application-level health (HTTP response codes, paths)</td>
</tr>
<tr>
<td>Session Affinity</td>
<td>✅ Supported (by source IP)</td>
<td>✅ Supported (by cookies)</td>
</tr>
<tr>
<td>URL Path-Based Routing</td>
<td>❌ Not possible</td>
<td>✅ Possible</td>
</tr>
<tr>
<td>Redirection (HTTP to HTTPS, etc.)</td>
<td>❌ Not supported</td>
<td>✅ Supported</td>
</tr>
<tr>
<td>Typical Scenario</td>
<td>Internal or external non-HTTP traffic load balancing (e.g., databases, custom TCP apps)</td>
<td>Web application routing and protection for websites, APIs, or web apps</td>
</tr>
</tbody>
</table>
<p>🔸 Example Use Cases</p>
<p>🔹 Azure Load Balancer</p>
<p>Balancing traffic between VMs running non-HTTP workloads — e.g.:</p>
<ul>
<li>
<p>SQL servers</p>
</li>
<li>
<p>FTP servers</p>
</li>
<li>
<p>Gaming servers</p>
</li>
<li>
<p>Custom TCP/UDP-based apps</p>
</li>
</ul>
<p>Backend VM access in an internal network (internal load balancer)</p>
<p>Simple, high-performance layer-4 traffic distribution</p>
<p>🔹 Azure Application Gateway</p>
<ul>
<li>
<p>Fronting web applications (HTTP/HTTPS)</p>
</li>
<li>
<p>Terminating SSL to reduce load on backend servers</p>
</li>
<li>
<p>URL path-based routing (e.g., /api → API backend, /images → static server)</p>
</li>
<li>
<p>Protecting against web attacks using Web Application Firewall (WAF)</p>
</li>
<li>
<p>Redirecting HTTP → HTTPS</p>
</li>
<li>
<p>Hosting multiple websites using one gateway (multi-site routing)</p>
</li>
</ul>
<p>🔹 Can they work together?</p>
<p>You can use both in combination:</p>
<ul>
<li>
<p>Application Gateway (Layer 7) → routes and secures web traffic</p>
</li>
<li>
<p>Azure Load Balancer (Layer 4) → distributes that traffic to backend VMs or containers</p>
</li>
</ul>
<p>This layered approach improves both performance and security.</p>
<p>🧠 Quick Summary</p>
<table>
<thead>
<tr>
<th>Question</th>
<th>Answer</th>
</tr>
</thead>
<tbody>
<tr>
<td>What layer does it work on?</td>
<td>Load Balancer = Layer 4, Application Gateway = Layer 7</td>
</tr>
<tr>
<td>What does it understand?</td>
<td>Load Balancer = IP/Port, Application Gateway = HTTP(S) requests</td>
</tr>
<tr>
<td>Can it inspect or modify requests?</td>
<td>Only Application Gateway</td>
</tr>
<tr>
<td>Can it protect web apps (WAF)?</td>
<td>Only Application Gateway</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; <a href="https://github.com/botlaram"  target="_blank" rel="noopener">botlar4</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/botlaram" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/ramakrishna-botla-772a8918b/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.expand", "navigation.path", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "search.share"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>